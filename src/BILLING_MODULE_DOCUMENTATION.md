# è´¹ç±³é›†ç¾¤è®¡è´¹æ¨¡å— - å®Œæ•´ä¸šåŠ¡æ–‡æ¡£

## ğŸ“‹ ç›®å½•

- [1. ä¸šåŠ¡æ¦‚è¿°](#1-ä¸šåŠ¡æ¦‚è¿°)
- [2. ä¸šåŠ¡æ¨¡å‹](#2-ä¸šåŠ¡æ¨¡å‹)
- [3. ä¸šåŠ¡æµç¨‹](#3-ä¸šåŠ¡æµç¨‹)
- [4. è®¡è´¹è§„åˆ™](#4-è®¡è´¹è§„åˆ™)
- [5. åŠŸèƒ½æ¨¡å—](#5-åŠŸèƒ½æ¨¡å—)
- [6. æ•°æ®æ¨¡å‹](#6-æ•°æ®æ¨¡å‹)
- [7. é¡µé¢åŠŸèƒ½](#7-é¡µé¢åŠŸèƒ½)
- [8. APIæ¥å£](#8-apiæ¥å£)

---

## 1. ä¸šåŠ¡æ¦‚è¿°

### 1.1 è®¡è´¹ç³»ç»Ÿå®šä½

è´¹ç±³é›†ç¾¤è®¡è´¹ç³»ç»Ÿæ˜¯ä¸€ä¸ª**ä¼ä¸šçº§äº‘èµ„æºè®¡è´¹ç®¡ç†å¹³å°**ï¼Œä¸ºKubernetesç®—åŠ›è°ƒåº¦å¹³å°æä¾›å®Œæ•´çš„è®¡è´¹ã€è´¦æˆ·ã€è®¢å•å’Œå‘ç¥¨ç®¡ç†èƒ½åŠ›ã€‚

**æ ¸å¿ƒä»·å€¼**ï¼š
- âœ… **ç²¾ç¡®è®¡é‡**ï¼šå®æ—¶è®°å½•èµ„æºä½¿ç”¨æƒ…å†µï¼Œç²¾ç¡®åˆ°ç§’çº§
- âœ… **çµæ´»å®šä»·**ï¼šæ”¯æŒå¤šç§è®¡è´¹æ¨¡å¼å’ŒæŠ˜æ‰£ç­–ç•¥
- âœ… **é€æ˜è´¦å•**ï¼šæ¸…æ™°çš„è´¹ç”¨æ˜ç»†å’Œæ¶ˆè´¹è¶‹åŠ¿
- âœ… **è‡ªåŠ¨ç»“ç®—**ï¼šæ”¯æŒé¢„ä»˜è´¹å’Œåä»˜è´¹æ¨¡å¼
- âœ… **åˆè§„ç®¡ç†**ï¼šå‘ç¥¨ç®¡ç†å’Œè´¢åŠ¡å¯¹è´¦

### 1.2 ä¸šåŠ¡æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     è®¡è´¹ç³»ç»Ÿæ¶æ„                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚  â”‚ èµ„æºç›‘æ§ â”‚  â”‚ è®¡é‡æœåŠ¡ â”‚  â”‚ å®šä»·å¼•æ“ â”‚             â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜             â”‚
â”‚       â”‚             â”‚             â”‚                     â”‚
â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚
â”‚                     â–¼                                   â”‚
â”‚            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                          â”‚
â”‚            â”‚   è´¦å•ç”ŸæˆæœåŠ¡   â”‚                          â”‚
â”‚            â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                          â”‚
â”‚                     â”‚                                   â”‚
â”‚       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚
â”‚       â–¼             â–¼             â–¼                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚  â”‚ è´¦æˆ·ç®¡ç† â”‚  â”‚ è®¢å•ç®¡ç† â”‚  â”‚ å‘ç¥¨ç®¡ç† â”‚                â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚       â”‚             â”‚             â”‚                     â”‚
â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚
â”‚                     â–¼                                   â”‚
â”‚            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                          â”‚
â”‚            â”‚  æ”¯ä»˜&ç»“ç®—æœåŠ¡   â”‚                          â”‚
â”‚            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                          â”‚
â”‚                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1.3 è®¡è´¹åŸŸèŒè´£

æ ¹æ®DDDé¢†åŸŸè®¾è®¡ï¼Œè®¡è´¹åŸŸçš„æ ¸å¿ƒèŒè´£ï¼š

1. **èµ„æºè®¡é‡**ï¼šæ”¶é›†å’Œè®°å½•å„ç±»èµ„æºçš„ä½¿ç”¨æ•°æ®
2. **è´¹ç‡è®¡ç®—**ï¼šæ ¹æ®å®šä»·è§„åˆ™è®¡ç®—èµ„æºè´¹ç”¨
3. **è´¦å•ç”Ÿæˆ**ï¼šæ±‡æ€»èµ„æºä½¿ç”¨ç”Ÿæˆå‘¨æœŸæ€§è´¦å•
4. **è´¦æˆ·ç®¡ç†**ï¼šç®¡ç†ç”¨æˆ·ä½™é¢ã€å……å€¼å’Œæ¶ˆè´¹
5. **è®¢å•ç®¡ç†**ï¼šç®¡ç†èµ„æºè´­ä¹°å’ŒæœåŠ¡è®¢å•
6. **å‘ç¥¨ç®¡ç†**ï¼šå¤„ç†å‘ç¥¨ç”³è¯·å’Œå¼€å…·

---

## 2. ä¸šåŠ¡æ¨¡å‹

### 2.1 æ ¸å¿ƒé¢†åŸŸå¯¹è±¡

#### è´¦å•èšåˆæ ¹ (Bill Aggregate)
```typescript
è´¦å• {
  - billId: è´¦å•ID
  - userId: ç”¨æˆ·ID
  - billingPeriod: è®¡è´¹å‘¨æœŸ
  - totalAmount: æ€»é‡‘é¢
  - paidAmount: å·²æ”¯ä»˜é‡‘é¢
  - status: è´¦å•çŠ¶æ€
  - billItems: è´¦å•æ˜ç»†[]
  - createdAt: ç”Ÿæˆæ—¶é—´
}
```

#### è®¡é‡é¡¹å€¼å¯¹è±¡ (BillingItem)
```typescript
è®¡é‡é¡¹ {
  - resourceId: èµ„æºID
  - resourceType: èµ„æºç±»å‹
  - resourceName: èµ„æºåç§°
  - quantity: ä½¿ç”¨é‡
  - unit: è®¡é‡å•ä½
  - unitPrice: å•ä»·
  - totalCost: æ€»è´¹ç”¨
  - startTime: å¼€å§‹æ—¶é—´
  - endTime: ç»“æŸæ—¶é—´
  - billingCycle: è®¡è´¹å‘¨æœŸ
}
```

#### è´¦æˆ·èšåˆæ ¹ (Account Aggregate)
```typescript
è´¦æˆ· {
  - accountId: è´¦æˆ·ID
  - userId: ç”¨æˆ·ID
  - balance: è´¦æˆ·ä½™é¢
  - creditLimit: ä¿¡ç”¨é¢åº¦
  - frozenAmount: å†»ç»“é‡‘é¢
  - availableBalance: å¯ç”¨ä½™é¢
  - totalRecharge: ç´¯è®¡å……å€¼
  - totalConsumption: ç´¯è®¡æ¶ˆè´¹
  - level: è´¦æˆ·ç­‰çº§
}
```

#### è®¢å•èšåˆæ ¹ (Order Aggregate)
```typescript
è®¢å• {
  - orderId: è®¢å•ID
  - userId: ç”¨æˆ·ID
  - orderType: è®¢å•ç±»å‹
  - resourceDetails: èµ„æºè¯¦æƒ…
  - totalAmount: è®¢å•é‡‘é¢
  - status: è®¢å•çŠ¶æ€
  - paymentStatus: æ”¯ä»˜çŠ¶æ€
  - billingType: è®¡è´¹ç±»å‹
  - createdAt: åˆ›å»ºæ—¶é—´
}
```

#### å‘ç¥¨å®ä½“ (Invoice Entity)
```typescript
å‘ç¥¨ {
  - invoiceId: å‘ç¥¨ID
  - invoiceNo: å‘ç¥¨å·
  - type: å‘ç¥¨ç±»å‹ (æ™®ç¥¨/ä¸“ç¥¨)
  - title: æŠ¬å¤´
  - taxNo: ç¨å·
  - amount: é‡‘é¢
  - taxAmount: ç¨é¢
  - status: å‘ç¥¨çŠ¶æ€
  - billingPeriod: è®¡è´¹å‘¨æœŸ
}
```

### 2.2 é¢†åŸŸæœåŠ¡

#### å®šä»·æœåŠ¡ (PricingService)
- è·å–èµ„æºä»·æ ¼è§„åˆ™
- è®¡ç®—èµ„æºè´¹ç”¨
- åº”ç”¨æŠ˜æ‰£ç­–ç•¥
- å¤„ç†ä¿ƒé”€æ´»åŠ¨

#### è®¡é‡æœåŠ¡ (MeteringService)
- æ”¶é›†èµ„æºä½¿ç”¨æ•°æ®
- ç´¯è®¡èµ„æºä½¿ç”¨é‡
- ç”Ÿæˆè®¡é‡è®°å½•
- æ•°æ®èšåˆç»Ÿè®¡

#### è´¦å•æœåŠ¡ (BillingService)
- ç”Ÿæˆå‘¨æœŸæ€§è´¦å•
- è´¦å•æ˜ç»†ç®¡ç†
- è´¹ç”¨è¶‹åŠ¿åˆ†æ
- è´¦å•æ±‡æ€»ç»Ÿè®¡

#### ç»“ç®—æœåŠ¡ (SettlementService)
- å¤„ç†è´¦å•æ”¯ä»˜
- æ‰£å‡è´¦æˆ·ä½™é¢
- ç”Ÿæˆæ”¯ä»˜è®°å½•
- å¯¹è´¦å’Œæ ¸é”€

---

## 3. ä¸šåŠ¡æµç¨‹

### 3.1 èµ„æºè®¡è´¹å…¨æµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ç”¨æˆ·åˆ›å»ºèµ„æºâ”‚
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
      â”‚
      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚èµ„æºå¼€å§‹è¿è¡Œ    â”‚
â”‚å¯åŠ¨è®¡é‡æœåŠ¡    â”‚
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚
      â”‚ (å®æ—¶é‡‡é›†)
      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚æ”¶é›†ä½¿ç”¨æ•°æ®    â”‚
â”‚- CPUä½¿ç”¨æ—¶é•¿   â”‚
â”‚- GPUä½¿ç”¨æ—¶é•¿   â”‚
â”‚- å­˜å‚¨å ç”¨é‡    â”‚
â”‚- ç½‘ç»œæµé‡      â”‚
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚
      â”‚ (æ¯å°æ—¶/å¤©)
      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚è®¡ç®—èµ„æºè´¹ç”¨    â”‚
â”‚- æŸ¥è¯¢å®šä»·è§„åˆ™  â”‚
â”‚- åº”ç”¨æŠ˜æ‰£      â”‚
â”‚- è®¡ç®—æ€»è´¹ç”¨    â”‚
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚
      â”‚ (ç”Ÿæˆè®°å½•)
      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ç”Ÿæˆè®¡è´¹è®°å½•    â”‚
â”‚- è®°å½•æ˜ç»†      â”‚
â”‚- æ›´æ–°ç´¯è®¡è´¹ç”¨  â”‚
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚
      â”‚ (å‘¨æœŸæ€§)
      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ç”Ÿæˆè´¦å•        â”‚
â”‚- æ±‡æ€»å‘¨æœŸè´¹ç”¨  â”‚
â”‚- ç”Ÿæˆè´¦å•æ–‡ä»¶  â”‚
â”‚- é€šçŸ¥ç”¨æˆ·      â”‚
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚
      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ç”¨æˆ·æ”¯ä»˜è´¦å•    â”‚
â”‚- æ‰£å‡ä½™é¢      â”‚
â”‚- æ›´æ–°çŠ¶æ€      â”‚
â”‚- ç”Ÿæˆå‡­è¯      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2 è´¦æˆ·å……å€¼æµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ç”¨æˆ·å‘èµ·å……å€¼   â”‚
â”‚- é€‰æ‹©é‡‘é¢     â”‚
â”‚- é€‰æ‹©æ”¯ä»˜æ–¹å¼ â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚åˆ›å»ºå……å€¼è®¢å•   â”‚
â”‚- ç”Ÿæˆè®¢å•å·   â”‚
â”‚- è®°å½•è®¢å•ä¿¡æ¯ â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚è°ƒç”¨æ”¯ä»˜ç½‘å…³   â”‚
â”‚- æ”¯ä»˜å®/å¾®ä¿¡  â”‚
â”‚- é“¶è¡Œè½¬è´¦     â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚æ”¯ä»˜å›è°ƒå¤„ç†   â”‚
â”‚- éªŒè¯ç­¾å     â”‚
â”‚- ç¡®è®¤é‡‘é¢     â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚å¢åŠ è´¦æˆ·ä½™é¢   â”‚
â”‚- æ›´æ–°ä½™é¢     â”‚
â”‚- è®°å½•æµæ°´     â”‚
â”‚- é€šçŸ¥ç”¨æˆ·     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.3 å‘ç¥¨ç”³è¯·æµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ç”¨æˆ·ç”³è¯·å‘ç¥¨   â”‚
â”‚- å¡«å†™æŠ¬å¤´ä¿¡æ¯ â”‚
â”‚- é€‰æ‹©è®¡è´¹å‘¨æœŸ â”‚
â”‚- å¡«å†™é‡‘é¢     â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ç³»ç»Ÿå®¡æ ¸       â”‚
â”‚- éªŒè¯èµ„è´¨     â”‚
â”‚- æ£€æŸ¥é‡‘é¢     â”‚
â”‚- ç¡®è®¤å¯å¼€ç¥¨é¢ â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ç”Ÿæˆå‘ç¥¨       â”‚
â”‚- åˆ†é…å‘ç¥¨å·   â”‚
â”‚- ç”ŸæˆPDF      â”‚
â”‚- ç›–ç«          â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚å‘é€ç»™ç”¨æˆ·     â”‚
â”‚- ä¸‹è½½é“¾æ¥     â”‚
â”‚- é‚®ä»¶é€šçŸ¥     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.4 æ”¿åºœç®—åŠ›åˆ¸ä½¿ç”¨æµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ç”¨æˆ·ç”³è¯·ç®—åŠ›åˆ¸ â”‚
â”‚- é€‰æ‹©é¡¹ç›®     â”‚
â”‚- å¡«å†™ç”³è¯·ä¿¡æ¯ â”‚
â”‚- æäº¤ææ–™     â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚å¹³å°å®¡æ ¸       â”‚
â”‚- éªŒè¯èµ„è´¨     â”‚
â”‚- å®¡æ ¸ææ–™     â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚å‘æ”¾ç®—åŠ›åˆ¸     â”‚
â”‚- ç”Ÿæˆåˆ¸ç      â”‚
â”‚- è®¾ç½®é¢åº¦     â”‚
â”‚- é…ç½®æœ‰æ•ˆæœŸ   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ç”¨æˆ·ä½¿ç”¨ç®—åŠ›åˆ¸ â”‚
â”‚- åˆ›å»ºèµ„æºæ—¶   â”‚
â”‚  è‡ªåŠ¨æŠµæ‰£     â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚æ‰£å‡åˆ¸é¢åº¦     â”‚
â”‚- è®°å½•ä½¿ç”¨æ˜ç»† â”‚
â”‚- æ›´æ–°å‰©ä½™é¢åº¦ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 4. è®¡è´¹è§„åˆ™

### 4.1 è®¡è´¹æ¨¡å¼

#### æŒ‰é‡ä»˜è´¹ (Pay-As-You-Go)
```
ç‰¹ç‚¹ï¼š
âœ“ æŒ‰å®é™…ä½¿ç”¨é‡è®¡è´¹
âœ“ çµæ´»å¼¹æ€§ï¼Œå³å¼€å³ç”¨
âœ“ é€‚åˆçŸ­æœŸæˆ–ä¸ç¡®å®šçš„å·¥ä½œè´Ÿè½½

è®¡è´¹å…¬å¼ï¼š
è´¹ç”¨ = ä½¿ç”¨é‡ Ã— å•ä»· Ã— ä½¿ç”¨æ—¶é•¿
```

#### åŒ…å¹´åŒ…æœˆ (Subscription)
```
ç‰¹ç‚¹ï¼š
âœ“ é¢„ä»˜è´¹æ¨¡å¼
âœ“ äº«å—æŠ˜æ‰£ä¼˜æƒ 
âœ“ é€‚åˆé•¿æœŸç¨³å®šçš„ä¸šåŠ¡

è®¡è´¹å…¬å¼ï¼š
è´¹ç”¨ = èµ„æºé…ç½® Ã— æœˆå•ä»· Ã— è´­ä¹°æœˆæ•° Ã— æŠ˜æ‰£
```

#### èµ„æºåŒ… (Resource Package)
```
ç‰¹ç‚¹ï¼š
âœ“ ä¸€æ¬¡è´­ä¹°ï¼Œå¤šæ¬¡ä½¿ç”¨
âœ“ æ›´ä¼˜æƒ çš„ä»·æ ¼
âœ“ æœ‰æ•ˆæœŸå†…éšæ—¶ä½¿ç”¨

è®¡è´¹å…¬å¼ï¼š
è´¹ç”¨ = åŒ…å†…æ€»é‡ Ã— ä¼˜æƒ å•ä»·
```

### 4.2 èµ„æºå®šä»·

#### GPUç®—åŠ›å®šä»·
| å‹å· | å•ä»· | è®¡è´¹å•ä½ | å¤‡æ³¨ |
|------|------|----------|------|
| NVIDIA A100 40GB | Â¥15.00 | å¡Â·å°æ—¶ | é«˜æ€§èƒ½è®­ç»ƒ |
| NVIDIA V100 32GB | Â¥12.00 | å¡Â·å°æ—¶ | ç»å…¸GPU |
| NVIDIA T4 16GB | Â¥8.00 | å¡Â·å°æ—¶ | æ¨ç†ä¼˜åŒ– |
| NVIDIA A10 24GB | Â¥10.00 | å¡Â·å°æ—¶ | å¹³è¡¡æ€§èƒ½ |

**æŠ˜æ‰£ç­–ç•¥**ï¼š
- åŒ…æœˆï¼š85æŠ˜
- åŒ…å­£ï¼š8æŠ˜
- åŒ…å¹´ï¼š7æŠ˜

#### å®¹å™¨å®ä¾‹å®šä»·
| èµ„æºç±»å‹ | å•ä»· | è®¡è´¹å•ä½ |
|----------|------|----------|
| CPUæ ¸å¿ƒ | Â¥0.50 | æ ¸Â·å°æ—¶ |
| å†…å­˜ | Â¥0.10 | GBÂ·å°æ—¶ |
| ç³»ç»Ÿç›˜ | Â¥0.001 | GBÂ·å°æ—¶ |

**è®¡è´¹ç¤ºä¾‹**ï¼š
```
å®ä¾‹é…ç½®ï¼š4æ ¸ 16GBå†…å­˜
è¿è¡Œæ—¶é•¿ï¼š24å°æ—¶

è´¹ç”¨è®¡ç®—ï¼š
= (4æ ¸ Ã— Â¥0.50 + 16GB Ã— Â¥0.10) Ã— 24å°æ—¶
= (Â¥2.00 + Â¥1.60) Ã— 24
= Â¥86.40
```

#### å­˜å‚¨å®šä»·
| å­˜å‚¨ç±»å‹ | å•ä»· | è®¡è´¹å•ä½ | è¯´æ˜ |
|----------|------|----------|------|
| SSDå­˜å‚¨å· | Â¥0.35 | GBÂ·æœˆ | é«˜æ€§èƒ½å­˜å‚¨ |
| HDDå­˜å‚¨å· | Â¥0.15 | GBÂ·æœˆ | å¤§å®¹é‡å­˜å‚¨ |
| å¯¹è±¡å­˜å‚¨ | Â¥0.25 | GBÂ·æœˆ | S3å…¼å®¹ |
| å¿«ç…§å¤‡ä»½ | Â¥0.30 | GBÂ·æœˆ | æ•°æ®å¤‡ä»½ |

**è®¡è´¹æ¨¡å¼**ï¼š
- æŒ‰å®é™…ä½¿ç”¨å®¹é‡è®¡è´¹
- æ¯æ—¥ç»“ç®—ï¼ŒæŒ‰æœˆæ±‡æ€»
- ä¸è¶³1GBæŒ‰1GBè®¡ç®—

#### ç½‘ç»œæµé‡å®šä»·
| æµé‡ç±»å‹ | å•ä»· | è®¡è´¹å•ä½ |
|----------|------|----------|
| å†…ç½‘æµé‡ | å…è´¹ | - |
| å…¬ç½‘å…¥æµé‡ | å…è´¹ | - |
| å…¬ç½‘å‡ºæµé‡ | Â¥0.80 | GB |

**æ³¨æ„äº‹é¡¹**ï¼š
- ä»…å…¬ç½‘å‡ºæµé‡æ”¶è´¹
- å†…ç½‘å’Œå…¥æµé‡å…è´¹
- æŒ‰å®é™…ä¼ è¾“é‡è®¡è´¹

#### æ¨ç†æœåŠ¡å®šä»·
| è®¡è´¹æ¨¡å¼ | å•ä»· | è®¡è´¹å•ä½ |
|----------|------|----------|
| APIè°ƒç”¨æ¬¡æ•° | Â¥2.00 | åƒæ¬¡ |
| åœ¨çº¿å®ä¾‹ | æŒ‰GPUå®šä»· | å°æ—¶ |

### 4.3 æŠ˜æ‰£ç­–ç•¥

#### è´¦æˆ·ç­‰çº§æŠ˜æ‰£
```typescript
è´¦æˆ·ç­‰çº§æŠ˜æ‰£è¡¨ï¼š
{
  bronze: 1.0,    // é’é“œ - æ— æŠ˜æ‰£
  silver: 0.95,   // ç™½é“¶ - 95æŠ˜
  gold: 0.90,     // é»„é‡‘ - 9æŠ˜
  platinum: 0.85  // é“‚é‡‘ - 85æŠ˜
}

å‡çº§æ¡ä»¶ï¼š
- ç™½é“¶ï¼šç´¯è®¡æ¶ˆè´¹ â‰¥ Â¥10,000
- é»„é‡‘ï¼šç´¯è®¡æ¶ˆè´¹ â‰¥ Â¥50,000
- é“‚é‡‘ï¼šç´¯è®¡æ¶ˆè´¹ â‰¥ Â¥200,000
```

#### é•¿æœŸä½¿ç”¨æŠ˜æ‰£
```
ä½¿ç”¨æ—¶é•¿æŠ˜æ‰£ï¼š
- è¿ç»­ä½¿ç”¨ > 7å¤©ï¼š95æŠ˜
- è¿ç»­ä½¿ç”¨ > 30å¤©ï¼š9æŠ˜
- è¿ç»­ä½¿ç”¨ > 90å¤©ï¼š85æŠ˜
```

#### æ‰¹é‡è´­ä¹°æŠ˜æ‰£
```
GPUæ•°é‡æŠ˜æ‰£ï¼š
- 4å¡ä»¥ä¸Šï¼š95æŠ˜
- 8å¡ä»¥ä¸Šï¼š9æŠ˜
- 16å¡ä»¥ä¸Šï¼š85æŠ˜
- 32å¡ä»¥ä¸Šï¼š8æŠ˜
```

### 4.4 è®¡è´¹å‘¨æœŸ

#### å®æ—¶è®¡è´¹
```
é€‚ç”¨èµ„æºï¼š
- GPUç®—åŠ›
- å®¹å™¨å®ä¾‹
- æ¨ç†æœåŠ¡

è®¡è´¹é¢‘ç‡ï¼š
- æ¯å°æ—¶ç»“ç®—ä¸€æ¬¡
- ç”Ÿæˆè®¡è´¹è®°å½•
- ç´¯è®¡åˆ°æœˆè´¦å•
```

#### æŒ‰å¤©è®¡è´¹
```
é€‚ç”¨èµ„æºï¼š
- ç½‘ç»œæµé‡
- æ¨ç†APIè°ƒç”¨

è®¡è´¹é¢‘ç‡ï¼š
- æ¯æ—¥0ç‚¹ç»“ç®—å‰ä¸€å¤©
- æ±‡æ€»åˆ°æœˆè´¦å•
```

#### æŒ‰æœˆè®¡è´¹
```
é€‚ç”¨èµ„æºï¼š
- å­˜å‚¨å·
- å¿«ç…§å¤‡ä»½

è®¡è´¹é¢‘ç‡ï¼š
- æ¯æœˆ1æ—¥ç»“ç®—
- æŒ‰æ—¥å¹³å‡ä½¿ç”¨é‡è®¡ç®—
```

### 4.5 ç‰¹æ®Šè®¡è´¹åœºæ™¯

#### é¢„ä»˜è´¹å­˜å‚¨
```
åœºæ™¯ï¼šå­˜å‚¨å·åˆ›å»ºæ—¶é¢„ä»˜è´¹

è®¡è´¹é€»è¾‘ï¼š
1. åˆ›å»ºæ—¶ï¼š
   - é¢„ä»˜3ä¸ªæœˆè´¹ç”¨
   - ä»è´¦æˆ·ä½™é¢æ‰£é™¤
   
2. è¿è¡Œä¸­ï¼š
   - ä»é¢„ä»˜è´¹ä½™é¢æ‰£é™¤
   - ä½™é¢ä¸è¶³æ—¶é¢„è­¦
   
3. ä½™é¢ä¸è¶³ï¼š
   - æå‰7å¤©é€šçŸ¥
   - åˆ°æœŸè‡ªåŠ¨åœæ­¢æœåŠ¡
```

#### èµ„æºåœæœºè®¡è´¹
```
åœºæ™¯ï¼šå®¹å™¨å®ä¾‹åœæ­¢/æš‚åœ

è®¡è´¹ç­–ç•¥ï¼š
- CPU/å†…å­˜ï¼šåœæ­¢è®¡è´¹
- GPUï¼šåœæ­¢è®¡è´¹
- ç³»ç»Ÿç›˜ï¼šç»§ç»­è®¡è´¹ï¼ˆæŒ‰å­˜å‚¨ä»·æ ¼ï¼‰
- æ•°æ®ç›˜ï¼šç»§ç»­è®¡è´¹
```

#### è·¨å¯ç”¨åŒºè°ƒåº¦
```
åœºæ™¯ï¼šAIå·¥ä½œè´Ÿè½½è·¨å¯ç”¨åŒºéƒ¨ç½²

è®¡è´¹ç­–ç•¥ï¼š
- æ¯ä¸ªèŠ‚ç‚¹ç‹¬ç«‹è®¡è´¹
- è·¨å¯ç”¨åŒºæµé‡å…è´¹
- ç»Ÿä¸€ç”Ÿæˆè´¦å•
```

---

## 5. åŠŸèƒ½æ¨¡å—

### 5.1 è´¹ç”¨ä¸­å¿ƒ (BillingPage)

**åŠŸèƒ½æ¦‚è¿°**ï¼šè®¡è´¹ç³»ç»Ÿçš„æ€»è§ˆé¡µé¢ï¼Œå±•ç¤ºç”¨æˆ·çš„è´¹ç”¨æ¦‚å†µå’Œå¿«é€Ÿå…¥å£ã€‚

#### æ ¸å¿ƒæŒ‡æ ‡å¡ç‰‡
```
1. æœ¬æœˆè´¹ç”¨
   - æ˜¾ç¤ºå½“æœˆç´¯è®¡è´¹ç”¨
   - ä¸ä¸Šæœˆå¯¹æ¯”ï¼ˆæ¶¨è·Œç™¾åˆ†æ¯”ï¼‰
   - è¶‹åŠ¿æŒ‡ç¤ºï¼ˆâ†‘ä¸Šæ¶¨ / â†“ä¸‹é™ï¼‰

2. è´¦æˆ·ä½™é¢
   - å½“å‰å¯ç”¨ä½™é¢
   - å¿«é€Ÿå……å€¼å…¥å£
   - ä½™é¢é¢„è­¦æç¤º

3. é¢„ä¼°æœ¬æœˆæ€»è´¹ç”¨
   - åŸºäºå½“å‰ä½¿ç”¨é‡é¢„æµ‹
   - æ—¥å‡è´¹ç”¨
   - æœˆæœ«é¢„ä¼°

4. æœªæ”¯ä»˜è´¦å•
   - å¾…æ”¯ä»˜é‡‘é¢
   - å¿«é€Ÿæ”¯ä»˜å…¥å£
```

#### è´¹ç”¨è¶‹åŠ¿å›¾
```
åŠŸèƒ½ï¼š
- 7å¤©/30å¤©/90å¤©è´¹ç”¨è¶‹åŠ¿
- æŒ‰èµ„æºç±»å‹åˆ†ç±»
- å¯è§†åŒ–å›¾è¡¨å±•ç¤º

æ•°æ®ç»´åº¦ï¼š
- æ€»è´¹ç”¨æ›²çº¿
- GPUè´¹ç”¨
- å®ä¾‹è´¹ç”¨
- å­˜å‚¨è´¹ç”¨
```

#### è´¹ç”¨åˆ†å¸ƒé¥¼å›¾
```
å±•ç¤ºå†…å®¹ï¼š
- å„èµ„æºç±»å‹å æ¯”
- ç™¾åˆ†æ¯”æ ‡æ³¨
- é¢œè‰²åŒºåˆ†
```

#### èµ„æºè´¹ç”¨æ˜ç»†
```
æ˜¾ç¤ºå†…å®¹ï¼š
- èµ„æºç±»å‹å›¾æ ‡
- èµ„æºåç§°
- ä½¿ç”¨é‡æè¿°
- è´¹ç”¨é‡‘é¢
- å æ¯”è¿›åº¦æ¡
```

#### å¿«é€Ÿæ“ä½œ
```
å…¥å£å¡ç‰‡ï¼š
1. è®¢å•ç®¡ç†
2. è®¡è´¹æ˜ç»†
3. è´¦æˆ·å……å€¼
4. å‘ç¥¨ç®¡ç†
5. æ”¿åºœç®—åŠ›åˆ¸
6. è®¡è´¹é…ç½®
```

### 5.2 è®¡è´¹æ˜ç»† (BillingDetailsPage)

**åŠŸèƒ½æ¦‚è¿°**ï¼šè¯¦ç»†çš„èµ„æºä½¿ç”¨å’Œè´¹ç”¨è®°å½•æŸ¥è¯¢ã€‚

#### ç­›é€‰åŠŸèƒ½
```
1. æ—¶é—´èŒƒå›´é€‰æ‹©
   - èµ·æ­¢æ—¥æœŸé€‰æ‹©å™¨
   - å¿«æ·é€‰é¡¹ï¼ˆä»Šå¤©ã€æœ¬å‘¨ã€æœ¬æœˆï¼‰

2. èµ„æºç±»å‹ç­›é€‰
   - å…¨éƒ¨/å®¹å™¨å®ä¾‹/å­˜å‚¨/GPU/ç½‘ç»œ/æ¨ç†/å¿«ç…§

3. å…³é”®è¯æœç´¢
   - èµ„æºåç§°
   - èµ„æºID
   - æè¿°ä¿¡æ¯
```

#### æ˜ç»†è¡¨æ ¼
```
åˆ—å­—æ®µï¼š
- æ—¥æœŸæ—¶é—´
- èµ„æºç±»å‹ï¼ˆå¸¦å›¾æ ‡å’Œæ ‡ç­¾ï¼‰
- èµ„æºåç§°
- ä½¿ç”¨é‡ï¼ˆæ•°é‡ + å•ä½ï¼‰
- å•ä»·
- æ€»è´¹ç”¨
- è®¡è´¹å‘¨æœŸï¼ˆå°æ—¶/å¤©/æœˆï¼‰
- çŠ¶æ€ï¼ˆå·²è®¡è´¹/å¾…è®¡è´¹/å·²é€€æ¬¾ï¼‰
```

#### ç»Ÿè®¡æ±‡æ€»
```
æ˜¾ç¤ºå†…å®¹ï¼š
- ç­›é€‰ç»“æœæ€»æ¡æ•°
- æ€»è´¹ç”¨åˆè®¡
- å„èµ„æºç±»å‹å°è®¡
```

#### å¯¼å‡ºåŠŸèƒ½
```
æ”¯æŒæ ¼å¼ï¼š
- Excelè¡¨æ ¼
- CSVæ–‡ä»¶
- PDFè´¦å•
```

### 5.3 è´¦æˆ·ä½™é¢ (AccountBalancePage)

**åŠŸèƒ½æ¦‚è¿°**ï¼šè´¦æˆ·å……å€¼å’Œä½™é¢ç®¡ç†ã€‚

#### è´¦æˆ·ä¿¡æ¯å±•ç¤º
```
1. ä½™é¢å¡ç‰‡
   - å½“å‰ä½™é¢
   - å†»ç»“é‡‘é¢
   - å¯ç”¨ä½™é¢
   - ä¿¡ç”¨é¢åº¦

2. è´¦æˆ·ç»Ÿè®¡
   - ç´¯è®¡å……å€¼
   - ç´¯è®¡æ¶ˆè´¹
   - è´¦æˆ·ç­‰çº§
   - æ³¨å†Œæ—¶é—´
```

#### å……å€¼åŠŸèƒ½
```
æ”¯æŒæ–¹å¼ï¼š
1. åœ¨çº¿æ”¯ä»˜
   - æ”¯ä»˜å®
   - å¾®ä¿¡æ”¯ä»˜
   - é“¶è¡Œå¡

2. å¯¹å…¬è½¬è´¦
   - é“¶è¡Œè´¦æˆ·ä¿¡æ¯
   - è½¬è´¦å‡­è¯ä¸Šä¼ 

3. å‘ç¥¨å……å€¼
   - å…ˆå¼€å‘ç¥¨åå……å€¼
   - é€‚åˆä¼ä¸šç”¨æˆ·
```

#### å……å€¼æµç¨‹
```
1. é€‰æ‹©å……å€¼é‡‘é¢
   - é¢„è®¾é‡‘é¢ï¼ˆ500/1000/2000/5000ï¼‰
   - è‡ªå®šä¹‰é‡‘é¢

2. é€‰æ‹©æ”¯ä»˜æ–¹å¼
   - åœ¨çº¿æ”¯ä»˜è·³è½¬æ”¯ä»˜é¡µ
   - å¯¹å…¬è½¬è´¦æ˜¾ç¤ºè´¦æˆ·ä¿¡æ¯

3. æ”¯ä»˜ç¡®è®¤
   - æ”¯ä»˜æˆåŠŸè‡ªåŠ¨åˆ°è´¦
   - ç”Ÿæˆå……å€¼è®°å½•
```

#### å……å€¼è®°å½•
```
æ˜¾ç¤ºå†…å®¹ï¼š
- å……å€¼æ—¶é—´
- å……å€¼é‡‘é¢
- æ”¯ä»˜æ–¹å¼
- è®¢å•å·
- çŠ¶æ€ï¼ˆæˆåŠŸ/å¤±è´¥/é€€æ¬¾ï¼‰
```

### 5.4 å‘ç¥¨ç®¡ç† (InvoiceManagementPage)

**åŠŸèƒ½æ¦‚è¿°**ï¼šå‘ç¥¨ç”³è¯·ã€å¼€å…·å’Œä¸‹è½½ç®¡ç†ã€‚

#### å‘ç¥¨ç”³è¯·
```
è¡¨å•å­—æ®µï¼š
1. å‘ç¥¨ç±»å‹
   - å¢å€¼ç¨æ™®é€šå‘ç¥¨
   - å¢å€¼ç¨ä¸“ç”¨å‘ç¥¨

2. æŠ¬å¤´ä¿¡æ¯
   - å‘ç¥¨æŠ¬å¤´ï¼ˆå…¬å¸/ä¸ªäººï¼‰
   - çº³ç¨äººè¯†åˆ«å·ï¼ˆä¼ä¸šå¿…å¡«ï¼‰

3. å¼€ç¥¨ä¿¡æ¯
   - è®¡è´¹å‘¨æœŸï¼ˆæœˆä»½é€‰æ‹©ï¼‰
   - å¼€ç¥¨é‡‘é¢ï¼ˆè‡ªåŠ¨è®¡ç®—ï¼‰

4. é‚®å¯„ä¿¡æ¯ï¼ˆä¸“ç¥¨ï¼‰
   - æ”¶ä»¶äºº
   - è”ç³»ç”µè¯
   - é‚®å¯„åœ°å€
```

#### å‘ç¥¨åˆ—è¡¨
```
æ˜¾ç¤ºå†…å®¹ï¼š
- å‘ç¥¨å·
- å‘ç¥¨ç±»å‹
- å¼€ç¥¨é‡‘é¢
- ç¨é¢
- ä»·ç¨åˆè®¡
- è®¡è´¹å‘¨æœŸ
- çŠ¶æ€ï¼ˆå¾…å®¡æ ¸/å¤„ç†ä¸­/å·²å¼€å…·/å·²é©³å›ï¼‰
- ç”³è¯·æ—¶é—´
- å¼€å…·æ—¶é—´
```

#### å‘ç¥¨çŠ¶æ€
```
çŠ¶æ€æµè½¬ï¼š
ç”³è¯·ä¸­ â†’ å®¡æ ¸ä¸­ â†’ å·²å¼€å…·
        â†˜ å·²é©³å›

æ“ä½œï¼š
- å·²å¼€å…·ï¼šä¸‹è½½PDF
- å·²é©³å›ï¼šæŸ¥çœ‹åŸå› ï¼Œé‡æ–°ç”³è¯·
```

### 5.5 è®¢å•ç®¡ç† (OrdersPage)

**åŠŸèƒ½æ¦‚è¿°**ï¼šèµ„æºè´­ä¹°è®¢å•çš„å…¨ç”Ÿå‘½å‘¨æœŸç®¡ç†ã€‚

#### è®¢å•ç»Ÿè®¡
```
æŒ‡æ ‡å¡ç‰‡ï¼š
- æ€»è®¢å•æ•°
- è¿è¡Œä¸­è®¢å•
- å·²å®Œæˆè®¢å•
- å·²å–æ¶ˆè®¢å•
- æœ¬æœˆè®¢å•é‡‘é¢
- æœ¬æœˆè®¢å•æ•°
```

#### è®¢å•åˆ—è¡¨
```
æ˜¾ç¤ºå­—æ®µï¼š
- è®¢å•å·
- è®¢å•ç±»å‹ï¼ˆå®¹å™¨/è®­ç»ƒ/æ¨ç†/å­˜å‚¨/GPU/å¿«ç…§ï¼‰
- èµ„æºåç§°
- é…ç½®ä¿¡æ¯
- è®¡è´¹ç±»å‹ï¼ˆæŒ‰å°æ—¶/æŒ‰å¤©/æŒ‰æœˆ/å¥—é¤åŒ…ï¼‰
- è®¢å•é‡‘é¢
- è®¢å•çŠ¶æ€ï¼ˆè¿è¡Œä¸­/å·²å®Œæˆ/å·²å–æ¶ˆ/å¤±è´¥ï¼‰
- æ”¯ä»˜çŠ¶æ€ï¼ˆå·²æ”¯ä»˜/æœªæ”¯ä»˜/éƒ¨åˆ†æ”¯ä»˜/å·²é€€æ¬¾ï¼‰
- åˆ›å»ºæ—¶é—´
- å®Œæˆæ—¶é—´
```

#### ç­›é€‰åŠŸèƒ½
```
ç­›é€‰ç»´åº¦ï¼š
- è®¢å•ç±»å‹
- è®¢å•çŠ¶æ€
- æ”¯ä»˜çŠ¶æ€
- æ—¶é—´èŒƒå›´
- å…³é”®è¯æœç´¢
```

#### è®¢å•è¯¦æƒ…
```
è¯¦ç»†ä¿¡æ¯ï¼š
- è®¢å•åŸºæœ¬ä¿¡æ¯
- èµ„æºé…ç½®è¯¦æƒ…
- è´¹ç”¨æ˜ç»†
- æ”¯ä»˜ä¿¡æ¯
- æ“ä½œè®°å½•
- ç›¸å…³èµ„æºé“¾æ¥
```

### 5.6 è®¡è´¹é…ç½® (BillingConfigPage)

**åŠŸèƒ½æ¦‚è¿°**ï¼šç®¡ç†å‘˜é…ç½®è®¡è´¹è§„åˆ™å’Œä»·æ ¼ç­–ç•¥ã€‚

#### å®šä»·ç®¡ç†
```
åŠŸèƒ½ï¼š
- æŸ¥çœ‹æ‰€æœ‰èµ„æºå®šä»·
- ç¼–è¾‘èµ„æºå•ä»·
- è®¾ç½®è®¡è´¹å‘¨æœŸ
- é…ç½®è®¡é‡å•ä½
```

#### æŠ˜æ‰£ç®¡ç†
```
æŠ˜æ‰£ç±»å‹ï¼š
1. è´¦æˆ·ç­‰çº§æŠ˜æ‰£
   - è®¾ç½®å„ç­‰çº§æŠ˜æ‰£ç‡
   - é…ç½®å‡çº§æ¡ä»¶

2. é•¿æœŸä½¿ç”¨æŠ˜æ‰£
   - è®¾ç½®æ—¶é•¿é˜¶æ¢¯
   - é…ç½®æŠ˜æ‰£ç‡

3. æ‰¹é‡è´­ä¹°æŠ˜æ‰£
   - è®¾ç½®æ•°é‡é˜¶æ¢¯
   - é…ç½®æŠ˜æ‰£ç‡

4. ä¿ƒé”€æ´»åŠ¨æŠ˜æ‰£
   - é™æ—¶ä¼˜æƒ 
   - æ–°ç”¨æˆ·ä¼˜æƒ 
   - ç‰¹å®šèµ„æºä¼˜æƒ 
```

#### è®¡è´¹è§„åˆ™
```
é…ç½®é¡¹ï¼š
- è®¡è´¹ç²¾åº¦ï¼ˆåˆ†é’Ÿ/å°æ—¶ï¼‰
- æœ€å°è®¡è´¹å•ä½
- åœæœºè®¡è´¹ç­–ç•¥
- æ¬ è´¹å¤„ç†ç­–ç•¥
- ä½™é¢é¢„è­¦é˜ˆå€¼
```

### 5.7 æ”¿åºœç®—åŠ›åˆ¸ (GovernmentVouchersPage)

**åŠŸèƒ½æ¦‚è¿°**ï¼šæ”¿åºœç®—åŠ›è¡¥è´´åˆ¸çš„ç”³è¯·å’Œä½¿ç”¨ç®¡ç†ã€‚

#### æˆ‘çš„ç®—åŠ›åˆ¸
```
æ˜¾ç¤ºå†…å®¹ï¼š
- åˆ¸ç 
- é¡¹ç›®åç§°
- å‘æ”¾å•ä½
- ç±»åˆ«ï¼ˆå›½å®¶çº§/çœçº§/å¸‚çº§/ä¸“é¡¹ï¼‰
- æ€»é¢åº¦
- å·²ä½¿ç”¨
- å‰©ä½™é¢åº¦
- æœ‰æ•ˆæœŸ
- çŠ¶æ€ï¼ˆç”Ÿæ•ˆä¸­/å·²ç”¨å®Œ/å·²è¿‡æœŸ/å·²å†»ç»“ï¼‰
- é€‚ç”¨èŒƒå›´
- ä½¿ç”¨é™åˆ¶
```

#### å¯ç”³è¯·é¡¹ç›®
```
é¡¹ç›®ä¿¡æ¯ï¼š
- é¡¹ç›®åç§°
- é¡¹ç›®ç¼–å·
- å‘æ”¾å•ä½
- é¡¹ç›®ç±»åˆ«
- æœ€å¤§é¢åº¦
- ç”³è¯·æˆªæ­¢æ—¥æœŸ
- é¡¹ç›®è¯´æ˜
- ç”³è¯·æ¡ä»¶
```

#### ç”³è¯·åŠŸèƒ½
```
ç”³è¯·è¡¨å•ï¼š
1. é¡¹ç›®é€‰æ‹©
2. ä¼ä¸š/æœºæ„ä¿¡æ¯
   - åç§°
   - ç»Ÿä¸€ç¤¾ä¼šä¿¡ç”¨ä»£ç 
   - è”ç³»äºº
   - è”ç³»æ–¹å¼

3. é¡¹ç›®è¯´æ˜
   - é¡¹ç›®åç§°
   - é¡¹ç›®æè¿°
   - é¢„æœŸä½¿ç”¨ç®—åŠ›
   - é¡¹ç›®è®¡åˆ’

4. èµ„è´¨ææ–™ä¸Šä¼ 
   - è¥ä¸šæ‰§ç…§
   - é¡¹ç›®ç«‹é¡¹æ–‡ä»¶
   - å…¶ä»–è¯æ˜ææ–™
```

#### ä½¿ç”¨è®°å½•
```
æ˜¾ç¤ºå†…å®¹ï¼š
- ä½¿ç”¨æ—¶é—´
- åˆ¸ç 
- é¡¹ç›®åç§°
- ä½¿ç”¨é‡‘é¢
- èµ„æºç±»å‹
- å…³è”è®¢å•å·
- ä½¿ç”¨è¯´æ˜
```

#### ç»Ÿè®¡åˆ†æ
```
æ•°æ®ç»´åº¦ï¼š
- æ€»ç”³è¯·æ¬¡æ•°
- æ€»è·æ‰¹é¢åº¦
- æ€»ä½¿ç”¨é‡‘é¢
- å‰©ä½™æ€»é¢åº¦
- æŒ‰é¡¹ç›®åˆ†ç±»ç»Ÿè®¡
- æŒ‰æ—¶é—´è¶‹åŠ¿åˆ†æ
```

---

## 6. æ•°æ®æ¨¡å‹

### 6.1 æ ¸å¿ƒæ•°æ®ç»“æ„

#### BillingSummary - è®¡è´¹æ¦‚è§ˆ
```typescript
interface BillingSummary {
  currentMonthCost: number;     // æœ¬æœˆè´¹ç”¨
  lastMonthCost: number;        // ä¸Šæœˆè´¹ç”¨
  accountBalance: number;       // è´¦æˆ·ä½™é¢
  unpaidAmount: number;         // æœªæ”¯ä»˜é‡‘é¢
  estimatedCost: number;        // æœ¬æœˆé¢„ä¼°è´¹ç”¨
  dailyAverage: number;         // æ—¥å‡è´¹ç”¨
}
```

#### ResourceCost - èµ„æºè´¹ç”¨
```typescript
interface ResourceCost {
  resourceType: 'instance' | 'storage' | 'gpu' | 'network' | 'snapshot' | 'inference';
  resourceName: string;         // èµ„æºåç§°
  resourceId: string;           // èµ„æºID
  cost: number;                 // è´¹ç”¨
  percentage: number;           // å æ¯”
  usage: string;                // ä½¿ç”¨é‡æè¿°
  status: 'running' | 'stopped' | 'deleted';
}
```

#### BillingRecord - è®¡è´¹è®°å½•
```typescript
interface BillingRecord {
  id: string;                   // è®°å½•ID
  date: string;                 // æ—¥æœŸ
  resourceType: string;         // èµ„æºç±»å‹
  resourceName: string;         // èµ„æºåç§°
  resourceId: string;           // èµ„æºID
  description: string;          // æè¿°
  quantity: number;             // ä½¿ç”¨é‡
  unit: string;                 // å•ä½
  unitPrice: number;            // å•ä»·
  totalCost: number;            // æ€»è´¹ç”¨
  billingCycle: 'hourly' | 'daily' | 'monthly';  // è®¡è´¹å‘¨æœŸ
  startTime: string;            // å¼€å§‹æ—¶é—´
  endTime: string;              // ç»“æŸæ—¶é—´
  status: 'billed' | 'pending' | 'refunded';     // çŠ¶æ€
}
```

#### DailyCost - æ¯æ—¥è´¹ç”¨
```typescript
interface DailyCost {
  date: string;                 // æ—¥æœŸ
  totalCost: number;            // æ€»è´¹ç”¨
  instanceCost: number;         // å®ä¾‹è´¹ç”¨
  storageCost: number;          // å­˜å‚¨è´¹ç”¨
  gpuCost: number;              // GPUè´¹ç”¨
  networkCost: number;          // ç½‘ç»œè´¹ç”¨
  otherCost: number;            // å…¶ä»–è´¹ç”¨
}
```

#### AccountInfo - è´¦æˆ·ä¿¡æ¯
```typescript
interface AccountInfo {
  userId: string;               // ç”¨æˆ·ID
  userName: string;             // ç”¨æˆ·å
  email: string;                // é‚®ç®±
  phone: string;                // æ‰‹æœº
  accountType: 'personal' | 'enterprise';  // è´¦æˆ·ç±»å‹
  balance: number;              // ä½™é¢
  creditLimit: number;          // ä¿¡ç”¨é¢åº¦
  availableBalance: number;     // å¯ç”¨ä½™é¢
  frozenAmount: number;         // å†»ç»“é‡‘é¢
  totalRecharge: number;        // ç´¯è®¡å……å€¼
  totalConsumption: number;     // ç´¯è®¡æ¶ˆè´¹
  createdAt: string;            // åˆ›å»ºæ—¶é—´
  level: 'bronze' | 'silver' | 'gold' | 'platinum';  // ç­‰çº§
}
```

#### RechargeRecord - å……å€¼è®°å½•
```typescript
interface RechargeRecord {
  id: string;                   // è®°å½•ID
  amount: number;               // å……å€¼é‡‘é¢
  paymentMethod: 'alipay' | 'wechat' | 'bank' | 'creditcard' | 'invoice';
  status: 'pending' | 'success' | 'failed' | 'refunded';
  orderId: string;              // è®¢å•å·
  createdAt: string;            // åˆ›å»ºæ—¶é—´
  completedAt?: string;         // å®Œæˆæ—¶é—´
  remark?: string;              // å¤‡æ³¨
}
```

#### Invoice - å‘ç¥¨
```typescript
interface Invoice {
  id: string;                   // å‘ç¥¨ID
  invoiceNo: string;            // å‘ç¥¨å·
  type: 'vat-normal' | 'vat-special';  // ç±»å‹
  title: string;                // æŠ¬å¤´
  taxNo: string;                // ç¨å·
  amount: number;               // é‡‘é¢
  taxAmount: number;            // ç¨é¢
  totalAmount: number;          // ä»·ç¨åˆè®¡
  status: 'pending' | 'processing' | 'issued' | 'rejected';
  billingPeriod: string;        // è®¡è´¹å‘¨æœŸ
  appliedAt: string;            // ç”³è¯·æ—¶é—´
  issuedAt?: string;            // å¼€å…·æ—¶é—´
  downloadUrl?: string;         // ä¸‹è½½åœ°å€
}
```

#### PricingRule - å®šä»·è§„åˆ™
```typescript
interface PricingRule {
  id: string;                   // è§„åˆ™ID
  resourceType: string;         // èµ„æºç±»å‹
  name: string;                 // èµ„æºåç§°
  unit: string;                 // è®¡é‡å•ä½
  price: number;                // ä»·æ ¼
  description: string;          // æè¿°
  billingCycle: 'hourly' | 'daily' | 'monthly';
  discountRules?: {             // æŠ˜æ‰£è§„åˆ™
    level: string;              // ç­‰çº§
    discount: number;           // æŠ˜æ‰£ç‡
  }[];
}
```

#### Order - è®¢å•
```typescript
interface Order {
  id: string;                   // è®¢å•ID
  orderNo: string;              // è®¢å•å·
  userId: string;               // ç”¨æˆ·ID
  orderType: string;            // è®¢å•ç±»å‹
  resourceName: string;         // èµ„æºåç§°
  resourceConfig: any;          // èµ„æºé…ç½®
  totalAmount: number;          // è®¢å•é‡‘é¢
  paidAmount: number;           // å·²æ”¯ä»˜
  status: string;               // è®¢å•çŠ¶æ€
  paymentStatus: string;        // æ”¯ä»˜çŠ¶æ€
  billingType: string;          // è®¡è´¹ç±»å‹
  createdAt: string;            // åˆ›å»ºæ—¶é—´
  completedAt?: string;         // å®Œæˆæ—¶é—´
}
```

#### Voucher - æ”¿åºœç®—åŠ›åˆ¸
```typescript
interface Voucher {
  id: string;                   // åˆ¸ID
  voucherCode: string;          // åˆ¸ç 
  programName: string;          // é¡¹ç›®åç§°
  issuer: string;               // å‘æ”¾å•ä½
  category: 'national' | 'provincial' | 'municipal' | 'special';
  totalAmount: number;          // æ€»é¢åº¦
  usedAmount: number;           // å·²ä½¿ç”¨
  remainingAmount: number;      // å‰©ä½™é¢åº¦
  startDate: string;            // å¼€å§‹æ—¥æœŸ
  endDate: string;              // ç»“æŸæ—¥æœŸ
  status: 'active' | 'expired' | 'used' | 'frozen';
  applicableScopes: string[];   // é€‚ç”¨èŒƒå›´
  restrictions: string;         // ä½¿ç”¨é™åˆ¶
  appliedDate: string;          // ç”³è¯·æ—¥æœŸ
  approvedDate?: string;        // æ‰¹å‡†æ—¥æœŸ
  notes?: string;               // å¤‡æ³¨
}
```

### 6.2 å…³ç³»å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Account    â”‚
â”‚   è´¦æˆ·       â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ 1
       â”‚
       â”‚ N
â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”      N    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ BillingRecordâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚ResourceCost  â”‚
â”‚   è®¡è´¹è®°å½•   â”‚            â”‚  èµ„æºè´¹ç”¨    â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ N
       â”‚
       â”‚ 1
â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”
â”‚    Bill      â”‚
â”‚    è´¦å•      â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ 1
       â”‚
       â”‚ N
â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Invoice    â”‚
â”‚    å‘ç¥¨      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Account    â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ 1
       â”‚
       â”‚ N
â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”
â”‚    Order     â”‚
â”‚    è®¢å•      â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ 1
       â”‚
       â”‚ N
â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”
â”‚  OrderItem   â”‚
â”‚  è®¢å•æ˜ç»†    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Account    â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ 1
       â”‚
       â”‚ N
â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Voucher    â”‚
â”‚  ç®—åŠ›åˆ¸      â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ 1
       â”‚
       â”‚ N
â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”
â”‚VoucherUsage  â”‚
â”‚åˆ¸ä½¿ç”¨è®°å½•    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 7. é¡µé¢åŠŸèƒ½

### 7.1 é¡µé¢åˆ—è¡¨

| é¡µé¢è·¯å¾„ | é¡µé¢åç§° | ä¸»è¦åŠŸèƒ½ | æƒé™è¦æ±‚ |
|---------|---------|---------|---------|
| `/billing` | è´¹ç”¨ä¸­å¿ƒ | è´¹ç”¨æ€»è§ˆå’Œå¿«é€Ÿå…¥å£ | VIEW_OWN_BILLING |
| `/billing-details` | è®¡è´¹æ˜ç»† | è¯¦ç»†è´¹ç”¨è®°å½•æŸ¥è¯¢ | VIEW_OWN_BILLING |
| `/account-balance` | è´¦æˆ·ä½™é¢ | å……å€¼å’Œä½™é¢ç®¡ç† | VIEW_OWN_BILLING |
| `/invoice-management` | å‘ç¥¨ç®¡ç† | å‘ç¥¨ç”³è¯·å’Œä¸‹è½½ | VIEW_OWN_BILLING |
| `/orders` | è®¢å•ç®¡ç† | è®¢å•åˆ—è¡¨å’Œè¯¦æƒ… | VIEW_OWN_BILLING |
| `/billing-config` | è®¡è´¹é…ç½® | å®šä»·å’Œè§„åˆ™é…ç½® | MANAGE_BILLING |
| `/pricing-management` | å®šä»·ç®¡ç† | ä»·æ ¼è§„åˆ™ç®¡ç† | MANAGE_BILLING |
| `/discount-management` | æŠ˜æ‰£ç®¡ç† | æŠ˜æ‰£ç­–ç•¥é…ç½® | MANAGE_BILLING |
| `/billing-rules` | è®¡è´¹è§„åˆ™ | è®¡è´¹é€»è¾‘é…ç½® | MANAGE_BILLING |
| `/government-vouchers` | æ”¿åºœç®—åŠ›åˆ¸ | ç®—åŠ›åˆ¸ç”³è¯·å’Œä½¿ç”¨ | VIEW_OWN_VOUCHERS |

### 7.2 é¡µé¢äº¤äº’æµç¨‹

#### è´¹ç”¨ä¸­å¿ƒäº¤äº’
```
ç”¨æˆ·è®¿é—® /billing
    â†“
åŠ è½½è´¹ç”¨æ¦‚è§ˆæ•°æ®
    â”œâ†’ è·å–è´¦å•æ‘˜è¦
    â”œâ†’ è·å–èµ„æºè´¹ç”¨åˆ†å¸ƒ
    â””â†’ è·å–æ¯æ—¥è´¹ç”¨è¶‹åŠ¿
    â†“
æ¸²æŸ“å¯è§†åŒ–å›¾è¡¨
    â”œâ†’ è´¹ç”¨è¶‹åŠ¿æŠ˜çº¿å›¾
    â”œâ†’ è´¹ç”¨åˆ†å¸ƒé¥¼å›¾
    â””â†’ èµ„æºè´¹ç”¨æ¡å½¢å›¾
    â†“
æä¾›å¿«é€Ÿæ“ä½œå…¥å£
    â”œâ†’ è·³è½¬è®¡è´¹æ˜ç»†
    â”œâ†’ è·³è½¬è´¦æˆ·å……å€¼
    â”œâ†’ è·³è½¬å‘ç¥¨ç®¡ç†
    â””â†’ è·³è½¬è®¢å•ç®¡ç†
```

#### å……å€¼æµç¨‹äº¤äº’
```
ç”¨æˆ·ç‚¹å‡»"è´¦æˆ·å……å€¼"
    â†“
æ‰“å¼€å……å€¼å¯¹è¯æ¡†
    â”œâ†’ è¾“å…¥å……å€¼é‡‘é¢
    â”œâ†’ é€‰æ‹©æ”¯ä»˜æ–¹å¼
    â””â†’ ç¡®è®¤å……å€¼
    â†“
åˆ›å»ºå……å€¼è®¢å•
    â”œâ†’ ç”Ÿæˆè®¢å•å·
    â”œâ†’ è®°å½•è®¢å•ä¿¡æ¯
    â””â†’ è¿”å›æ”¯ä»˜ä¿¡æ¯
    â†“
è°ƒç”¨æ”¯ä»˜ç½‘å…³
    â”œâ†’ æ”¯ä»˜å®/å¾®ä¿¡ï¼šè·³è½¬æ”¯ä»˜é¡µ
    â””â†’ é“¶è¡Œè½¬è´¦ï¼šæ˜¾ç¤ºè´¦æˆ·ä¿¡æ¯
    â†“
æ”¯ä»˜å›è°ƒå¤„ç†
    â”œâ†’ éªŒè¯ç­¾å
    â”œâ†’ ç¡®è®¤é‡‘é¢
    â””â†’ æ›´æ–°è®¢å•çŠ¶æ€
    â†“
å¢åŠ è´¦æˆ·ä½™é¢
    â”œâ†’ æ›´æ–°ä½™é¢
    â”œâ†’ ç”Ÿæˆæµæ°´è®°å½•
    â””â†’ å‘é€é€šçŸ¥
```

---

## 8. APIæ¥å£

### 8.1 è®¡è´¹æœåŠ¡æ¥å£

#### è·å–è®¡è´¹æ¦‚è§ˆ
```typescript
GET /api/billing/summary

Response:
{
  currentMonthCost: 15847.63,
  lastMonthCost: 12456.89,
  accountBalance: 50000.00,
  unpaidAmount: 0,
  estimatedCost: 18500.00,
  dailyAverage: 528.25
}
```

#### è·å–èµ„æºè´¹ç”¨åˆ†å¸ƒ
```typescript
GET /api/billing/resource-costs

Response: [
  {
    resourceType: "gpu",
    resourceName: "GPU ç®—åŠ›",
    resourceId: "gpu-pool-001",
    cost: 8945.32,
    percentage: 56.5,
    usage: "2456 GPUå°æ—¶",
    status: "running"
  },
  ...
]
```

#### è·å–è®¡è´¹è®°å½•
```typescript
GET /api/billing/records
Query Parameters:
  - startDate: string (ISO 8601)
  - endDate: string (ISO 8601)
  - resourceType?: string
  - page: number
  - pageSize: number

Response: {
  total: 150,
  records: [
    {
      id: "bill-1001",
      date: "2024-12-05T10:30:00Z",
      resourceType: "gpu",
      resourceName: "gpu-resource-1",
      resourceId: "res-1001",
      description: "GPUç®—åŠ›ä½¿ç”¨è´¹ç”¨",
      quantity: 8.5,
      unit: "å°æ—¶",
      unitPrice: 15.00,
      totalCost: 127.50,
      billingCycle: "hourly",
      startTime: "2024-12-05T02:00:00Z",
      endTime: "2024-12-05T10:30:00Z",
      status: "billed"
    },
    ...
  ]
}
```

#### è·å–æ¯æ—¥è´¹ç”¨è¶‹åŠ¿
```typescript
GET /api/billing/daily-costs
Query Parameters:
  - days: number (7, 30, 90)

Response: [
  {
    date: "2024-12-05",
    totalCost: 524.30,
    instanceCost: 145.20,
    storageCost: 85.40,
    gpuCost: 265.70,
    networkCost: 18.00,
    otherCost: 10.00
  },
  ...
]
```

### 8.2 è´¦æˆ·æœåŠ¡æ¥å£

#### è·å–è´¦æˆ·ä¿¡æ¯
```typescript
GET /api/account/info

Response: {
  userId: "user-001",
  userName: "zhangsan",
  email: "zhangsan@fermicluster.com",
  phone: "138****5678",
  accountType: "enterprise",
  balance: 50000.00,
  creditLimit: 10000.00,
  availableBalance: 60000.00,
  frozenAmount: 500.00,
  totalRecharge: 200000.00,
  totalConsumption: 150000.00,
  createdAt: "2023-06-15T08:00:00Z",
  level: "gold"
}
```

#### åˆ›å»ºå……å€¼è®¢å•
```typescript
POST /api/account/recharge
Request Body:
{
  amount: 1000.00,
  paymentMethod: "alipay"
}

Response: {
  success: true,
  orderId: "ORD202412050001",
  paymentUrl: "https://pay.alipay.com/xxxxx"
}
```

#### è·å–å……å€¼è®°å½•
```typescript
GET /api/account/recharge-records
Query Parameters:
  - page: number
  - pageSize: number

Response: {
  total: 25,
  records: [
    {
      id: "rech-001",
      amount: 10000.00,
      paymentMethod: "alipay",
      status: "success",
      orderId: "ORD202411120001",
      createdAt: "2024-11-12T10:30:00Z",
      completedAt: "2024-11-12T10:30:15Z"
    },
    ...
  ]
}
```

### 8.3 å‘ç¥¨æœåŠ¡æ¥å£

#### è·å–å‘ç¥¨åˆ—è¡¨
```typescript
GET /api/invoices

Response: [
  {
    id: "inv-001",
    invoiceNo: "INV202411001",
    type: "vat-special",
    title: "åŒ—äº¬æŸæŸç§‘æŠ€æœ‰é™å…¬å¸",
    taxNo: "91110000XXXXXXXXXX",
    amount: 12456.89,
    taxAmount: 1619.40,
    totalAmount: 14076.29,
    status: "issued",
    billingPeriod: "2024-10",
    appliedAt: "2024-11-01T10:00:00Z",
    issuedAt: "2024-11-03T15:30:00Z",
    downloadUrl: "/invoices/INV202411001.pdf"
  },
  ...
]
```

#### ç”³è¯·å‘ç¥¨
```typescript
POST /api/invoices/apply
Request Body:
{
  type: "vat-special",
  title: "åŒ—äº¬æŸæŸç§‘æŠ€æœ‰é™å…¬å¸",
  taxNo: "91110000XXXXXXXXXX",
  amount: 15847.63,
  billingPeriod: "2024-11",
  address: "åŒ—äº¬å¸‚æµ·æ·€åŒºxxx",
  phone: "010-12345678",
  bank: "ä¸­å›½å·¥å•†é“¶è¡Œ",
  bankAccount: "1234567890"
}

Response: {
  success: true,
  invoiceId: "inv-123",
  message: "å‘ç¥¨ç”³è¯·å·²æäº¤ï¼Œé¢„è®¡3ä¸ªå·¥ä½œæ—¥å†…å¼€å…·"
}
```

### 8.4 è®¢å•æœåŠ¡æ¥å£

#### è·å–è®¢å•åˆ—è¡¨
```typescript
GET /api/orders
Query Parameters:
  - orderType?: string
  - status?: string
  - paymentStatus?: string
  - searchTerm?: string
  - page: number
  - pageSize: number

Response: {
  total: 128,
  orders: [
    {
      id: "ord-001",
      orderNo: "ORD202412050001",
      userId: "user-001",
      orderType: "instance",
      resourceName: "å®¹å™¨å®ä¾‹-prod-001",
      resourceConfig: {
        cpu: 4,
        memory: 16,
        gpu: 1
      },
      totalAmount: 2560.00,
      paidAmount: 2560.00,
      status: "running",
      paymentStatus: "paid",
      billingType: "hourly",
      createdAt: "2024-12-01T08:00:00Z"
    },
    ...
  ]
}
```

#### è·å–è®¢å•è¯¦æƒ…
```typescript
GET /api/orders/:orderId

Response: {
  id: "ord-001",
  orderNo: "ORD202412050001",
  // ... åŸºæœ¬ä¿¡æ¯
  billingRecords: [
    {
      date: "2024-12-05",
      amount: 156.30,
      duration: "24å°æ—¶"
    },
    ...
  ],
  paymentRecords: [
    {
      paymentId: "pay-001",
      amount: 2560.00,
      method: "balance",
      time: "2024-12-01T08:05:00Z"
    }
  ]
}
```

### 8.5 å®šä»·æœåŠ¡æ¥å£

#### è·å–å®šä»·è§„åˆ™
```typescript
GET /api/pricing/rules

Response: [
  {
    id: "price-001",
    resourceType: "gpu",
    name: "NVIDIA A100 40GB",
    unit: "å¡Â·å°æ—¶",
    price: 15.00,
    description: "é«˜æ€§èƒ½GPUç®—åŠ›ï¼Œé€‚ç”¨äºå¤§è§„æ¨¡æ·±åº¦å­¦ä¹ è®­ç»ƒ",
    billingCycle: "hourly",
    discountRules: [
      { level: "gold", discount: 0.9 },
      { level: "platinum", discount: 0.85 }
    ]
  },
  ...
]
```

#### è®¡ç®—è´¹ç”¨é¢„ä¼°
```typescript
POST /api/pricing/estimate
Request Body:
{
  resourceType: "instance",
  config: {
    cpu: 4,
    memory: 16,
    gpu: 1,
    gpuType: "A100"
  },
  duration: 720, // å°æ—¶
  userLevel: "gold"
}

Response: {
  originalPrice: 11520.00,
  discount: 0.9,
  finalPrice: 10368.00,
  breakdown: {
    cpu: 1440.00,
    memory: 1152.00,
    gpu: 10800.00
  },
  priceAfterDiscount: {
    cpu: 1296.00,
    memory: 1036.80,
    gpu: 9720.00
  }
}
```

### 8.6 ç®—åŠ›åˆ¸æœåŠ¡æ¥å£

#### è·å–æˆ‘çš„ç®—åŠ›åˆ¸
```typescript
GET /api/vouchers/my

Response: [
  {
    id: "1",
    voucherCode: "GOV-2024-AI-001",
    programName: "å›½å®¶äººå·¥æ™ºèƒ½ç®—åŠ›æ”¯æŒè®¡åˆ’",
    issuer: "å›½å®¶ç§‘æŠ€éƒ¨",
    category: "national",
    totalAmount: 100000,
    usedAmount: 35000,
    remainingAmount: 65000,
    startDate: "2024-01-01",
    endDate: "2024-12-31",
    status: "active",
    applicableScopes: ["AIè®­ç»ƒ", "æ¨¡å‹æ¨ç†", "æ•°æ®å¤„ç†"],
    restrictions: "ä»…é™ç”¨äºäººå·¥æ™ºèƒ½ç›¸å…³è®¡ç®—ä»»åŠ¡ï¼Œä¸å¯è½¬è®©"
  },
  ...
]
```

#### ç”³è¯·ç®—åŠ›åˆ¸
```typescript
POST /api/vouchers/apply
Request Body:
{
  programCode: "NATIONAL-2024-AI",
  organization: "åŒ—äº¬æŸæŸç§‘æŠ€æœ‰é™å…¬å¸",
  creditCode: "91110000XXXXXXXXXX",
  projectName: "AIå¤§æ¨¡å‹è®­ç»ƒé¡¹ç›®",
  projectDescription: "åŸºäºTransformeræ¶æ„çš„...",
  requestedAmount: 50000,
  expectedUsage: "é¢„è®¡ä½¿ç”¨GPUç®—åŠ›3000å°æ—¶...",
  contactPerson: "å¼ ä¸‰",
  contactPhone: "13800138000",
  contactEmail: "zhangsan@example.com"
}

Response: {
  success: true,
  applicationId: "app-001",
  message: "ç”³è¯·å·²æäº¤ï¼Œé¢„è®¡5ä¸ªå·¥ä½œæ—¥å†…å®Œæˆå®¡æ ¸"
}
```

---

## 9. æ€»ç»“

### 9.1 ç³»ç»Ÿç‰¹ç‚¹

1. **å®Œæ•´æ€§**ï¼šè¦†ç›–è®¡è´¹å…¨ç”Ÿå‘½å‘¨æœŸ
2. **çµæ´»æ€§**ï¼šæ”¯æŒå¤šç§è®¡è´¹æ¨¡å¼
3. **é€æ˜æ€§**ï¼šæ¸…æ™°çš„è´¹ç”¨æ˜ç»†
4. **è‡ªåŠ¨åŒ–**ï¼šè‡ªåŠ¨è®¡é‡å’Œç»“ç®—
5. **åˆè§„æ€§**ï¼šå®Œå–„çš„å‘ç¥¨ç®¡ç†

### 9.2 æŠ€æœ¯äº®ç‚¹

1. **å®æ—¶è®¡é‡**ï¼šç§’çº§ç²¾åº¦çš„èµ„æºä½¿ç”¨è®°å½•
2. **å¼¹æ€§å®šä»·**ï¼šçµæ´»çš„å®šä»·å’ŒæŠ˜æ‰£ç­–ç•¥
3. **å¯è§†åŒ–åˆ†æ**ï¼šä¸°å¯Œçš„å›¾è¡¨å±•ç¤º
4. **å¤šç»´åº¦ç­›é€‰**ï¼šå¼ºå¤§çš„æ•°æ®æŸ¥è¯¢èƒ½åŠ›
5. **æ”¿ç­–æ”¯æŒ**ï¼šæ”¿åºœç®—åŠ›åˆ¸é›†æˆ

### 9.3 ä¸šåŠ¡ä»·å€¼

1. **é™ä½æˆæœ¬**ï¼šæŒ‰éœ€ä»˜è´¹ï¼ŒèŠ‚çœå¼€æ”¯
2. **æé«˜æ•ˆç‡**ï¼šè‡ªåŠ¨åŒ–è®¡è´¹ï¼Œå‡å°‘äººå·¥
3. **å¢å¼ºä½“éªŒ**ï¼šæ¸…æ™°é€æ˜ï¼Œç”¨æˆ·æ”¾å¿ƒ
4. **ä¿ƒè¿›å‘å±•**ï¼šç®—åŠ›åˆ¸æ”¯æŒåˆ›æ–°
5. **åˆè§„ç»è¥**ï¼šå®Œå–„çš„è´¢åŠ¡ç®¡ç†

---

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0.0  
**æœ€åæ›´æ–°**: 2024-12-06  
**ç»´æŠ¤å›¢é˜Ÿ**: è´¹ç±³é›†ç¾¤å¼€å‘å›¢é˜Ÿ
