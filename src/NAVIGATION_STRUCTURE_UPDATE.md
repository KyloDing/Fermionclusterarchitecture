# 导航结构优化说明

## 📋 更新概览

**更新日期**: 2024-11-14  
**版本**: v1.2  
**类型**: 导航结构优化

## 🎯 优化内容

### 调整项目

将以下两个模块从"数据资产"分组移动到"AI工作负载"分组：
- **模型评测** (`/model-evaluation`)
- **Pipeline编排** (`/pipeline-orchestration`)

---

## 📊 调整前后对比

### ❌ 调整前（v1.1）

```
侧边栏导航结构:
├── 总览
│   └── 仪表盘
├── 计算资源
│   ├── 集群管理
│   ├── 计算节点
│   └── GPU资源池
├── AI工作负载
│   ├── 开发环境
│   ├── 训练任务
│   └── 推理服务
├── 数据资产
│   ├── 镜像管理
│   ├── 数据集
│   ├── 模型仓库
│   ├── 模型评测      ⚠️ 位置不当
│   └── Pipeline编排   ⚠️ 位置不当
├── 存储管理
│   ├── 存储池
│   ├── 存储卷
│   ├── SMB分享
│   └── 存储后端
└── 系统管理
    ├── 调度管理
    ├── 用户管理
    ├── 监控告警
    ├── 计费管理
    └── 审计日志
```

### ✅ 调整后（v1.2）

```
侧边栏导航结构:
├── 总览
│   └── 仪表盘
├── 计算资源
│   ├── 集群管理
│   ├── 计算节点
│   └── GPU资源池
├── AI工作负载
│   ├── 开发环境        (交互式容器实例)
│   ├── 训练任务        (批处理训练作业)
│   ├── 推理服务        (在线API服务)
│   ├── 模型评测 ✅     (模型能力评估)
│   └── Pipeline编排 ✅  (端到端流程)
├── 数据资产
│   ├── 镜像管理
│   ├── 数据集
│   └── 模型仓库
├── 存储管理
│   ├── 存储池
│   ├── 存储卷
│   ├── SMB分享
│   └── 存储后端
└── 系统管理
    ├── 调度管理
    ├── 用户管理
    ├── 监控告警
    ├── 计费管理
    └── 审计日志
```

---

## 🤔 调整原因

### 为什么"模型评测"属于AI工作负载？

1. **本质是计算任务**
   - 评测需要消耗GPU/CPU资源
   - 像训练任务一样需要排队调度
   - 有明确的开始、运行、结束状态

2. **与训练/推理同级**
   - 训练 = 产生模型
   - 评测 = 验证模型
   - 推理 = 使用模型
   - 三者是模型生命周期的不同阶段

3. **用户心智模型**
   - "我要评测一个模型" = "我要运行一个评测任务"
   - 不是"我要管理评测数据"

### 为什么"Pipeline编排"属于AI工作负载？

1. **编排的是工作负载**
   - Pipeline 由多个AI任务组成
   - 数据预处理 → 训练 → 评测 → 部署
   - 每个步骤都是工作负载

2. **运行态而非静态资产**
   - 数据资产：镜像、数据集、模型（存储的）
   - Pipeline：运行中的流程（执行的）

3. **与工作负载强关联**
   - Pipeline 创建训练任务
   - Pipeline 创建推理服务
   - Pipeline 创建评测任务

---

## 📐 设计原则

### 分组逻辑

我们按照以下原则组织导航：

| 分组 | 定位 | 特征 | 示例 |
|------|------|------|------|
| **计算资源** | 基础设施 | 物理/虚拟资源 | 节点、GPU池 |
| **AI工作负载** | 运行态任务 | 消耗资源、有生命周期 | 训练、评测、Pipeline |
| **数据资产** | 静态资源 | 存储、版本化 | 数据集、模型、镜像 |
| **存储管理** | 存储系统 | 持久化、共享 | 存储池、存储卷 |
| **系统管理** | 管理功能 | 配置、监控、审计 | 用户、计费、日志 |

### 判断标准

**一个功能应该放在"AI工作负载"如果它满足**：
- ✅ 需要提交/运行
- ✅ 有执行状态（pending/running/completed）
- ✅ 消耗计算资源
- ✅ 有时间成本

**一个功能应该放在"数据资产"如果它满足**：
- ✅ 静态存储
- ✅ 版本管理
- ✅ 被工作负载引用/使用
- ✅ 不主动执行

---

## 🎨 视觉层次

### 调整后的 AI 工作负载分组

```
┌─────────────────────────────────────┐
│ AI工作负载                           │
├─────────────────────────────────────┤
│ 🖥️  开发环境                        │
│     交互式容器实例                   │
│                                     │
│ ⚡  训练任务                        │
│     批处理训练作业                   │
│                                     │
│ 🚀  推理服务                        │
│     在线API服务                      │
│                                     │
│ 📈  模型评测                        │
│     模型能力评估                     │
│                                     │
│ 🔀  Pipeline编排                    │
│     端到端流程                       │
└─────────────────────────────────────┘
```

### 功能关系图

```
AI工作负载流程:

开发环境 ────────┐
                │
                ▼
训练任务 ──→ 模型评测
                │
                ▼
             推理服务

Pipeline编排 (串联以上所有环节)
```

---

## 💡 用户价值

### 改进前的问题

1. **概念混淆**
   - "评测"看起来像"管理评测数据"
   - 用户不清楚这是要运行任务

2. **查找困难**
   - 想要评测模型，先去"数据资产"找
   - 实际应该和训练任务放在一起

3. **流程割裂**
   - 训练在"AI工作负载"
   - 评测在"数据资产"
   - Pipeline在"数据资产"
   - 用户需要跨分组操作

### 改进后的优势

1. **✅ 概念清晰**
   - AI工作负载 = 所有需要运行的AI任务
   - 一看就知道是"执行"类功能

2. **✅ 查找直观**
   - 想运行任务？直接去"AI工作负载"
   - 所有执行相关的功能都在这里

3. **✅ 流程连贯**
   - 开发 → 训练 → 评测 → 部署
   - Pipeline 编排整个流程
   - 全在一个分组，操作顺畅

---

## 🔄 实施细节

### 代码变更

**文件**: `/components/AppSidebar.tsx`

**变更内容**:
```typescript
// 从数据资产移除
{
  group: '数据资产',
  items: [
    { id: 'images', label: '镜像管理', icon: Package },
    { id: 'datasets', label: '数据集', icon: Database },
    { id: 'models', label: '模型仓库', icon: Box },
    // ❌ 移除: model-evaluation
    // ❌ 移除: pipeline-orchestration
  ],
}

// 添加到 AI工作负载
{
  group: 'AI工作负载',
  items: [
    { id: 'instances', label: '开发环境', icon: Terminal, description: '交互式容器实例' },
    { id: 'training-jobs', label: '训练任务', icon: Zap, description: '批处理训练作业' },
    { id: 'inference-services', label: '推理服务', icon: Rocket, description: '在线API服务' },
    { id: 'model-evaluation', label: '模型评测', icon: TrendingUp, description: '模型能力评估' }, // ✅ 新增
    { id: 'pipeline-orchestration', label: 'Pipeline编排', icon: GitBranch, description: '端到端流程' }, // ✅ 新增
  ],
}
```

### 路由保持不变

- `/model-evaluation` - 模型评测页面
- `/pipeline-orchestration` - Pipeline编排页面
- `/pipeline-editor` - Pipeline编辑器

### 兼容性

- ✅ 无破坏性变更
- ✅ 所有功能正常工作
- ✅ 只是导航位置调整

---

## 📚 相关文档更新

建议更新以下文档中的导航结构说明：

1. **快速开始指南**
   - [EVALUATION_PIPELINE_QUICK_START.md](./EVALUATION_PIPELINE_QUICK_START.md)
   - 更新访问路径说明

2. **功能文档**
   - [MODEL_EVALUATION_AND_PIPELINE.md](./MODEL_EVALUATION_AND_PIPELINE.md)
   - 更新导航路径

3. **新功能文档**
   - [EVALUATION_PIPELINE_NEW_FEATURES.md](./EVALUATION_PIPELINE_NEW_FEATURES.md)
   - 更新导航说明

---

## 🎯 用户体验提升

### 场景 1: 新用户探索

**之前**:
```
1. 用户想评测模型
2. 看到"数据资产"，以为是管理数据
3. 不确定是否该点击
4. 点进去才发现有"模型评测"
```

**现在**:
```
1. 用户想评测模型
2. 看到"AI工作负载"，知道是执行任务
3. 点进去，看到完整的AI开发流程
4. 自然找到"模型评测"
```

### 场景 2: 完整工作流

**之前**:
```
数据集管理 (数据资产)
    ↓
训练任务 (AI工作负载) ← 需要切换分组
    ↓
模型评测 (数据资产) ← 再次切换
    ↓
推理部署 (AI工作负载) ← 又要切换
```

**现在**:
```
数据集管理 (数据资产)
    ↓
训练任务 (AI工作负载)
    ↓
模型评测 (AI工作负载) ← 同一分组
    ↓
推理部署 (AI工作负载) ← 同一分组
```

或者直接使用:
```
Pipeline编排 (AI工作负载)
  ├── 数据预处理
  ├── 模型训练
  ├── 模型评测
  └── 模型部署
```

---

## 🔍 竞品对比

### AWS SageMaker

```
├── Notebooks (开发环境)
├── Training Jobs (训练任务)
├── Model Evaluation (模型评测) ← 在工作流中
├── Inference (推理服务)
└── Pipelines (流程编排)
```

### Google Vertex AI

```
├── Workbench (开发环境)
├── Training (训练)
├── Evaluation (评测) ← 在工作流中
├── Deployment (部署)
└── Pipelines (流程)
```

### Azure Machine Learning

```
├── Compute (计算资源)
├── Jobs (作业)
│   ├── Training
│   ├── Evaluation ← 在作业中
│   └── Deployment
└── Pipelines
```

**结论**: 主流云平台都将评测和Pipeline放在工作负载/作业类别中。

---

## ✅ 总结

### 变更内容

- ✅ 将"模型评测"从"数据资产"移至"AI工作负载"
- ✅ 将"Pipeline编排"从"数据资产"移至"AI工作负载"
- ✅ 为两个功能添加描述文字
- ✅ 保持原有功能和路由不变

### 优势

- 🎯 更符合用户心智模型
- 📊 更清晰的信息架构
- 🔄 更连贯的操作流程
- 🏆 对标行业最佳实践

### 影响

- ✅ 无破坏性变更
- ✅ 现有用户习惯调整（短期）
- ✅ 更好的用户体验（长期）

---

## 📖 补充说明

### 为什么不创建独立的"AI开发"分组？

考虑过创建独立分组，但：
1. 会增加导航层级
2. "AI工作负载"已经很好地表达了含义
3. 5个功能在一起不会过于拥挤
4. 功能之间关联紧密，分开反而割裂

### 未来扩展

如果后续添加更多功能，可以考虑：
```
AI工作负载
├── 开发与训练
│   ├── 开发环境
│   ├── 训练任务
│   └── 模型评测
├── 部署与服务
│   ├── 推理服务
│   └── 模型监控 (未来)
└── 流程编排
    └── Pipeline编排
```

但目前的扁平结构已经足够清晰。

---

**文档版本**: v1.0  
**最后更新**: 2024-11-14  
**状态**: ✅ 已实施
